{"version":3,"file":"static/js/608.659330a2.chunk.js","mappings":"8NACA,GAAgB,KAAO,sB,kBCIR,SAASA,IACtB,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEA,GAA0BC,EAAAA,EAAAA,WAAS,kBACjCF,EAAaG,IAAI,SAAWH,EAAaG,IAAI,SAAW,MAD1D,eAAOC,EAAP,KAAcC,EAAd,KAGA,GAAwBH,EAAAA,EAAAA,UAAS,IAAjC,eAAOI,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACJR,EAAaG,IAAI,WACnBM,EAAAA,EAAAA,IAAiBL,GAAOM,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,EAASL,KAAKM,cAEhE,CAACR,EAAOJ,IAEX,IAAMa,GAAWC,EAAAA,EAAAA,MAWjB,OACE,iBAAKC,UAAU,GAAf,WACE,kBAAMC,SAXW,SAAAC,GACnBA,EAAIC,iBACJjB,EAAgB,SAAD,OAAUgB,EAAIE,cAAcC,SAAShB,MAAMiB,QAC1D,IAAMC,EAAkBL,EAAIE,cAAcC,SAAShB,MAAMiB,MACtDE,OACAC,cACHnB,EAASiB,IAKuBP,UAAWU,EAAAA,KAAzC,WACE,kBAAOC,KAAK,OAAOC,WAAS,EAACC,KAAK,WAClC,mBAAQF,KAAK,SAASX,UAAWU,EAAAA,IAAjC,uBAIgB,KAAb,OAAJnB,QAAI,IAAJA,OAAA,EAAAA,EAAMuB,UACL,0BACE,wBACGvB,EAAKwB,KAAI,SAAAC,GACR,IAAMC,EAAUD,EAAKE,GACrB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAWG,MAAO,CAAEC,KAAMvB,GAA/C,SACGkB,EAAKM,SAFDN,EAAKE,gB,yMC1CxBK,EAAW,+BACXC,EAAM,mCAEL,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACkBC,IAAAA,IAAA,UAClBH,EADkB,uCACqBC,IAFvC,cACC5B,EADD,yBAIEA,GAJF,kEAOA,SAAeF,EAAtB,+CAAO,OAAP,oBAAO,WAAgCL,GAAhC,uFACkBqC,IAAAA,IAAA,UAClBH,EADkB,iCACeC,EADf,iCAC2CnC,EAD3C,gCADlB,cACCO,EADD,yBAIEA,GAJF,kEAOA,SAAe+B,EAAtB,+CAAO,OAAP,oBAAO,WAAmCV,GAAnC,uFACkBS,IAAAA,IAAA,UAClBH,EADkB,kBACAN,EADA,oBACmBO,EADnB,mCADlB,cACC5B,EADD,yBAIEA,GAJF,kEAOA,SAAegC,EAAtB,+CAAO,OAAP,oBAAO,WAAuBX,GAAvB,uFACkBS,IAAAA,IAAA,UAClBH,EADkB,kBACAN,EADA,4BAC2BO,IAF7C,cACC5B,EADD,yBAIEA,GAJF,kEAOA,SAAeiC,EAAtB,+CAAO,OAAP,oBAAO,WAA0BZ,GAA1B,iFACQS,IAAAA,IAAA,UACRH,EADQ,kBACUN,EADV,4BACqCO,EADrC,2BADR","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport s from './Movies.module.css';\nimport { getMoviesOnQuery } from 'services/api';\n\nexport default function Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [query, setQuery] = useState(() =>\n    searchParams.get('query') ? searchParams.get('query') : ''\n  );\n  const [data, setData] = useState('');\n\n  useEffect(() => {\n    if (searchParams.get('query')) {\n      getMoviesOnQuery(query).then(response => setData(response.data.results));\n    }\n  }, [query, searchParams]);\n\n  const location = useLocation();\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    setSearchParams(`query=${evt.currentTarget.elements.query.value}`);\n    const normalizedQuery = evt.currentTarget.elements.query.value\n      .trim()\n      .toLowerCase();\n    setQuery(normalizedQuery);\n  };\n\n  return (\n    <div className=\"\">\n      <form onSubmit={handleSubmit} className={s.form}>\n        <input type=\"text\" autoFocus name=\"query\"/>\n        <button type=\"submit\" className={s.btn}>\n          Search\n        </button>\n      </form>\n      {data?.length !== 0 && (\n        <div>\n          <ul>\n            {data.map(film => {\n              const movieId = film.id;\n              return (\n                <li key={film.id}>\n                  <Link to={`/movies/${movieId}`} state={{ from: location }}>\n                    {film.title}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'c1c6ade8161edfcf83637816aa4d7c5f';\n\nexport async function getPopularMovies() {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${KEY}`\n  );\n  return response;\n}\n\nexport async function getMoviesOnQuery(query) {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response;\n}\n\nexport async function getMovieInformation(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US&language=en-US`\n  );\n  return response;\n}\n\nexport async function getCast(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n  );\n  return response;\n}\n\nexport async function getReviews(movieId) {\n  return await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n}\n"],"names":["Movies","useSearchParams","searchParams","setSearchParams","useState","get","query","setQuery","data","setData","useEffect","getMoviesOnQuery","then","response","results","location","useLocation","className","onSubmit","evt","preventDefault","currentTarget","elements","value","normalizedQuery","trim","toLowerCase","s","type","autoFocus","name","length","map","film","movieId","id","to","state","from","title","BASE_URL","KEY","getPopularMovies","axios","getMovieInformation","getCast","getReviews"],"sourceRoot":""}