{"version":3,"file":"static/js/608.ea5acd12.chunk.js","mappings":"8NACA,GAAgB,KAAO,sB,kBCIR,SAASA,IACtB,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BC,EAAAA,EAAAA,WAAS,kBACjCF,EAAaG,IAAI,SAAWH,EAAaG,IAAI,SAAW,MAD1D,eAAOC,EAAP,KAAcC,EAAd,KAGA,GAAwBH,EAAAA,EAAAA,UAAS,IAAjC,eAAOI,EAAP,KAAaC,EAAb,KAEA,GAA6BC,EAAAA,EAAAA,MAArBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAkBlB,OACE,iBAAKC,UAAU,GAAf,WACE,kBAAMC,SAdW,SAAAC,GACnB,IAAMC,EAAkBV,EAAMW,OAAOC,cACrCH,EAAII,iBACCb,KAGLc,EAAAA,EAAAA,IAAiBd,GAAOe,MAAK,SAAAC,GAC3Bb,EAAQa,EAASd,KAAKe,YAExBpB,EAAgB,SAAD,OAAUa,MAKOH,UAAWW,EAAAA,KAAzC,WACE,kBAAOC,KAAK,QAAQC,SAnBL,SAAAX,GACnBR,EAASQ,EAAIY,OAAOC,QAkB4BC,WAAS,EAACD,MAAOtB,KAC7D,mBAAQmB,KAAK,SAASZ,UAAWW,EAAAA,IAAjC,uBAIgB,KAAb,OAAJhB,QAAI,IAAJA,OAAA,EAAAA,EAAMsB,UACL,0BACE,wBACGtB,EAAKuB,KAAI,SAAAC,GACR,IAAMC,EAAUD,EAAKE,GACrB,OACE,yBACE,SAAC,KAAD,CACEC,GACExB,EAASyB,SAAS,UAAlB,UACOH,GADP,iBAEcA,GAEhBI,MAAO,CAAEC,KAAM3B,EAAUC,OAAQA,GANnC,SAQGoB,EAAKO,SATDP,EAAKE,gB,yMC1CxBM,EAAW,+BACXC,EAAM,mCAEL,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACkBC,IAAAA,IAAA,UAClBH,EADkB,uCACqBC,IAFvC,cACCnB,EADD,yBAIEA,GAJF,kEAOA,SAAeF,EAAtB,+CAAO,OAAP,oBAAO,WAAgCd,GAAhC,uFACkBqC,IAAAA,IAAA,UAClBH,EADkB,iCACeC,EADf,iCAC2CnC,EAD3C,gCADlB,cACCgB,EADD,yBAIEA,GAJF,kEAOA,SAAesB,EAAtB,+CAAO,OAAP,oBAAO,WAAmCX,GAAnC,uFACkBU,IAAAA,IAAA,UAClBH,EADkB,kBACAP,EADA,oBACmBQ,EADnB,mCADlB,cACCnB,EADD,yBAIEA,GAJF,kEAOA,SAAeuB,EAAtB,+CAAO,OAAP,oBAAO,WAAuBZ,GAAvB,uFACkBU,IAAAA,IAAA,UAClBH,EADkB,kBACAP,EADA,4BAC2BQ,IAF7C,cACCnB,EADD,yBAIEA,GAJF,kEAOA,SAAewB,EAAtB,+CAAO,OAAP,oBAAO,WAA0Bb,GAA1B,iFACQU,IAAAA,IAAA,UACRH,EADQ,kBACUP,EADV,4BACqCQ,EADrC,2BADR","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\"};","import { useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport s from './Movies.module.css';\nimport { getMoviesOnQuery } from 'services/api';\n\nexport default function Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(() =>\n    searchParams.get('query') ? searchParams.get('query') : ''\n  );\n  const [data, setData] = useState('');\n\n  const { pathname, search } = useLocation();\n\n  const handleChange = evt => {\n    setQuery(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    const normalizedQuery = query.trim().toLowerCase();\n    evt.preventDefault();\n    if (!query) {\n      return;\n    }\n    getMoviesOnQuery(query).then(response => {\n      setData(response.data.results);\n    });\n    setSearchParams(`query=${normalizedQuery}`);\n  };\n\n  return (\n    <div className=\"\">\n      <form onSubmit={handleSubmit} className={s.form}>\n        <input type=\"input\" onChange={handleChange} autoFocus value={query} />\n        <button type=\"submit\" className={s.btn}>\n          Search\n        </button>\n      </form>\n      {data?.length !== 0 && (\n        <div>\n          <ul>\n            {data.map(film => {\n              const movieId = film.id;\n              return (\n                <li key={film.id}>\n                  <Link\n                    to={\n                      pathname.includes('movies')\n                        ? `${movieId}`\n                        : `movies/${movieId}`\n                    }\n                    state={{ from: pathname, search: search }}\n                  >\n                    {film.title}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'c1c6ade8161edfcf83637816aa4d7c5f';\n\nexport async function getPopularMovies() {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${KEY}`\n  );\n  return response;\n}\n\nexport async function getMoviesOnQuery(query) {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response;\n}\n\nexport async function getMovieInformation(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US&language=en-US`\n  );\n  return response;\n}\n\nexport async function getCast(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n  );\n  return response;\n}\n\nexport async function getReviews(movieId) {\n  return await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n}\n"],"names":["Movies","useSearchParams","searchParams","setSearchParams","useState","get","query","setQuery","data","setData","useLocation","pathname","search","className","onSubmit","evt","normalizedQuery","trim","toLowerCase","preventDefault","getMoviesOnQuery","then","response","results","s","type","onChange","target","value","autoFocus","length","map","film","movieId","id","to","includes","state","from","title","BASE_URL","KEY","getPopularMovies","axios","getMovieInformation","getCast","getReviews"],"sourceRoot":""}